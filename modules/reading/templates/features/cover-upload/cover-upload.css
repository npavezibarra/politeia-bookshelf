/* Overlay */
.prs-cover-modal{
	position: fixed; inset: 0;
	background: rgba(0,0,0,.5);
	z-index: 100000;
	display: grid;
	place-items: center; /* centra todo el panel */
}

/* Botón del overlay sobre la portada */
.prs-cover-actions{
        display:flex;
        flex-direction:column;
        align-items:center;
        gap:10px;
        margin-top:18px;
        opacity:0;
        transform:translateY(10px);
        transition:opacity 0.25s ease, transform 0.25s ease;
}
.prs-cover-placeholder:hover .prs-cover-actions,
.prs-cover-placeholder:focus-within .prs-cover-actions,
.prs-cover-frame.has-image:hover .prs-cover-actions,
.prs-cover-frame.has-image:focus-within .prs-cover-actions,
.prs-cover-frame[data-cover-state="image"]:hover .prs-cover-actions,
.prs-cover-frame[data-cover-state="image"]:focus-within .prs-cover-actions{
        opacity:1;
        transform:translateY(0);
}
.prs-cover-overlay .prs-cover-actions{
        margin-top:0;
}
.prs-cover-btn{
        background:#111;
        color:#fff;
        border:none;
        border-radius:14px;
        padding:10px 20px;
        font-weight:600;
        cursor:pointer;
        transition:background 0.2s ease-in-out;
}
.prs-cover-btn:hover,
.prs-cover-btn:focus-visible{ background:#2a2a2a; }

/* Botón base ya usado en tu tema */
/* Modal de búsqueda de portadas */
.prs-cover-search-modal{
        position:fixed;
        inset:0;
        background:rgba(0,0,0,.6);
        z-index:100001;
        display:flex;
        align-items:center;
        justify-content:center;
        padding:24px;
}
.prs-cover-search-modal__content{
        background:#fff;
        border-radius:12px;
        width:560px;
        max-width:calc(100vw - 32px);
        max-height:calc(100vh - 32px);
        display:flex;
        flex-direction:column;
        padding:20px;
        box-shadow:0 10px 30px rgba(0,0,0,.2);
        outline:none;
}
.prs-cover-search-modal__content:focus{ outline:2px solid #111; outline-offset:4px; }
.prs-cover-search-modal__title{
        font-size:20px;
        font-weight:700;
        margin:0 0 12px;
}
.prs-cover-search-modal__message{
        margin:0;
        color:#444;
        font-size:14px;
        min-height:20px;
}
.prs-cover-search-modal__grid{
        margin:20px 0 12px;
}
.prs-cover-grid{
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
        gap:16px;
        justify-items:center;
        margin-top:1rem;
        width:100%;
}
.prs-cover-option{
        background:#fdfdfd;
        border:1px solid rgba(0,0,0,.08);
        border-radius:12px;
        position:relative;
        transition:box-shadow .2s ease, transform .2s ease, border-color .2s ease;
        display:flex;
        flex-direction:column;
        align-items:center;
        padding:12px 12px 8px;
        cursor:pointer;
        text-align:center;
}
.prs-cover-option:hover,
.prs-cover-option:focus-within{
        transform:scale(1.02);
        box-shadow:0 6px 20px rgba(0,0,0,.18);
        transform:translateY(-2px);
        border-color:rgba(0,0,0,.16);
}
.prs-cover-option:focus-visible{
        outline:3px solid rgba(17,17,17,.5);
        outline-offset:3px;
}
.prs-cover-option.is-selected{
        box-shadow:0 0 0 2px #111 inset;
        border-color:#111;
}
.prs-cover-option.is-selected::after{
        content:"\2713";
        position:absolute;
        top:8px;
        right:8px;
        width:24px;
        height:24px;
        border-radius:50%;
        background:#111;
        color:#fff;
        font-size:14px;
        font-weight:700;
        display:flex;
        align-items:center;
        justify-content:center;
        box-shadow:0 4px 12px rgba(0,0,0,.3);
}
.prs-cover-figure{
        margin:0;
        display:flex;
        flex-direction:column;
        align-items:center;
        width:100%;
}
.prs-cover-frame{
        position:relative;
        display:flex;
        align-items:center;
        justify-content:center;
        width:100%;
        min-height:160px;
}
.prs-cover-frame img{
        max-height:220px;
        width:auto;
        max-width:100%;
        border-radius:6px;
        object-fit:contain;
        box-shadow:0 3px 10px rgba(0,0,0,.12);
}
.prs-cover-meta{
        margin-top:6px;
        display:flex;
        flex-direction:column;
        gap:4px;
        font-size:12px;
        color:#374151;
        width:100%;
}
.prs-cover-title{
        font-weight:600;
        line-height:1.3;
        display:block;
}
.prs-cover-author{
        font-size:12px;
        color:#6b7280;
        line-height:1.2;
}
.prs-cover-attribution{
        margin-top:4px;
        font-size:8px;
        color:#9ca3af;
        font-family:'Inter', sans-serif;
}
.prs-cover-attribution a{
        color:#9ca3af;
        text-decoration:none;
}
.prs-cover-attribution a:hover,
.prs-cover-attribution a:focus{
        color:#6b7280;
        text-decoration:underline;
}
.prs-cover-search-modal__footer{
        display:flex;
        justify-content:flex-end;
        gap:10px;
        margin-top:auto;
}
.prs-cover-search-modal__footer .prs-btn{
        min-width:110px;
}
.prs-cover-search-modal__empty{
        margin:20px 0;
        color:#555;
        text-align:center;
        font-size:14px;
}
.prs-cover-search-modal__lang{
        position:absolute;
        top:10px;
        left:10px;
        background:rgba(17,17,17,.85);
        color:#fff;
        font-size:11px;
        font-weight:600;
        letter-spacing:.04em;
        text-transform:uppercase;
        padding:4px 6px;
        border-radius:6px;
}
.prs-cover-search-modal__lang.is-mismatch{
        background:rgba(102,102,102,.85);
}

body.prs-cover-search--loading .prs-cover-search-modal__content{
        cursor:progress;
}

#cropStage{
        position:relative;
        overflow:hidden;
        border:2px dashed #9ca3af;
        border-radius:8px;
        background-color:#fafafa;
        width:220px;
        height:350px;
        transition:all 0.2s ease;
        display:flex;
        justify-content:center;
        align-items:center;
        flex-shrink:0;
}
#cropStage.drag-active{
        border-color:#3b82f6;
        background-color:#eff6ff;
}
#cropStage.error{
        border-color:#ef4444;
        background-color:#fef2f2;
}
#cropPlaceholder{
        position:absolute;
        inset:0;
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
        text-align:center;
        transition:opacity 0.2s ease;
}
#previewImage{
        position:absolute;
        top:50%;
        left:50%;
        width:auto;
        height:100%;
        transform:translate(-50%, -50%) scale(1);
        object-fit:contain;
        transform-origin:center;
        transition:transform 0.15s ease-out;
        pointer-events:none;
}

@media (max-width: 640px){
        #cropStage{ margin:0 auto 16px; }
}
