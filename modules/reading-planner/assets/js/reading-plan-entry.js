(function(e,G,b){"use strict";var A=document.createElement("style");A.textContent=`.politeia-reading-plan-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:10000;background:#0f172a8c;display:none;align-items:center;justify-content:center;padding:32px 16px}.politeia-reading-plan-modal.is-open{display:flex}.politeia-reading-plan__panel{width:min(960px,92vw);max-height:min(90vh,860px);overflow:auto;border-radius:28px;box-shadow:0 30px 80px #0f172a59}.politeia-reading-plan__panel .min-h-screen{min-height:auto}@media (max-width: 768px){.politeia-reading-plan-modal{padding:16px}.politeia-reading-plan__panel{width:100%;max-height:92vh;border-radius:22px}}
/*$vite$:1*/`,document.head.appendChild(A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,c,p)=>p?p.toUpperCase():c.toLowerCase()),I=o=>{const a=V(o);return a.charAt(0).toUpperCase()+a.slice(1)},B=(...o)=>o.filter((a,c,p)=>!!a&&a.trim()!==""&&p.indexOf(a)===c).join(" ").trim(),U=o=>{for(const a in o)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=b.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:p,className:y="",children:x,iconNode:k,...w},C)=>b.createElement("svg",{ref:C,...H,width:a,height:a,stroke:o,strokeWidth:p?Number(c)*24/Number(a):c,className:B("lucide",y),...!x&&!U(w)&&{"aria-hidden":"true"},...w},[...k.map(([S,P])=>b.createElement(S,P)),...Array.isArray(x)?x:[x]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=(o,a)=>{const c=b.forwardRef(({className:p,...y},x)=>b.createElement(Q,{ref:x,iconNode:a,className:B(`lucide-${O(I(o))}`,`lucide-${o}`,p),...y}));return c.displayName=I(o),c};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=m("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=m("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=m("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=m("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=m("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=m("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=m("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=m("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=m("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=m("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=m("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=m("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),j=[{id:"complete_books",title:"Terminar uno o más libros",description:"Finalizar obras específicas en un tiempo determinado.",icon:J},{id:"more_pages",title:"Leer más páginas por sesión",description:"Aumentar tu velocidad o profundidad de lectura.",icon:se},{id:"more_days",title:"Aumentar días de lectura",description:"Crear un hábito más frecuente durante la semana.",icon:K},{id:"consistency",title:"Leer de forma más constante",description:"Mantener un ritmo estable durante un período largo.",icon:te}],oe=["<100","200~","400~","600~","1000~"],L=[{id:"2w",label:"2 semanas",weeks:2},{id:"1m",label:"1 mes",weeks:4},{id:"3m",label:"3 meses",weeks:12},{id:"custom",label:"Personalizado",weeks:0}],ie=[{id:0,label:"Lun"},{id:1,label:"Mar"},{id:2,label:"Mié"},{id:3,label:"Jue"},{id:4,label:"Vie"},{id:5,label:"Sáb"},{id:6,label:"Dom"}],ne=o=>{if(!o)return 0;const a=String(o).match(/\d+/);return a?parseInt(a[0],10):0};function de({onClose:o}){const[a,c]=b.useState(1),[p,y]=b.useState(0),[x,k]=b.useState(0),[w,C]=b.useState(!1),[S,P]=b.useState(null),[t,f]=b.useState({goals:[],baselines:{},books:[],availability:{days:[],sessionType:"medium"},period:null,customWeeks:""}),[u,E]=b.useState({title:"",pages:""}),[ge,D]=b.useState(!1),_=t.goals,be=()=>{var l;a===1?(c(2),y(0),k(0)):a===2?_[p]==="complete_books"&&x===0&&parseInt((l=t.baselines.complete_books)==null?void 0:l.value,10)>0?k(1):p<_.length-1?(y(p+1),k(0)):c(3):a<5?c(a+1):D(!0)},xe=()=>{if(a===2)if(x===1)k(0);else if(p>0){y(p-1);const l=_[p-1];k(l==="complete_books"?1:0)}else c(1);else a>1&&c(a-1)},me=l=>{f(i=>{const n=i.goals.includes(l)?i.goals.filter(d=>d!==l):[...i.goals,l];return{...i,goals:n}})},W=(l,i)=>{f(s=>({...s,baselines:{...s.baselines,[l]:{...s.baselines[l],value:i}}}))},fe=(l,i)=>{f(s=>{var d;const n=[...((d=s.baselines.complete_books)==null?void 0:d.details)||[]];return n[l]=i,{...s,baselines:{...s.baselines,complete_books:{...s.baselines.complete_books,details:n}}}})},ue=()=>{u.title&&u.pages&&(f(l=>({...l,books:[...l.books,{...u,id:Date.now(),pages:parseInt(u.pages,10)}]})),E({title:"",pages:""}))},ye=l=>{f(i=>({...i,books:i.books.filter(s=>s.id!==l)}))},g=b.useMemo(()=>{var d;const l=t.books.reduce((h,r)=>h+r.pages,0),i=t.period==="custom"?parseInt(t.customWeeks,10)||0:((d=L.find(h=>h.id===t.period))==null?void 0:d.weeks)||0;if(l===0||i===0||t.availability.days.length===0)return null;const s=i*t.availability.days.length,n=Math.ceil(l/s);return{totalPages:l,weeks:i,pagesPerSession:n,totalSessions:s}},[t]),ke=()=>{const l=t.period==="custom"&&t.customWeeks?`custom:${t.customWeeks}`:t.period||"custom",i={};return Object.keys(t.baselines||{}).forEach(n=>{var h;const d=(h=t.baselines[n])==null?void 0:h.value;d!=null&&d!==""&&(i[n]=String(d))}),{goals:t.goals.map(n=>{var h;let d=ne((h=t.baselines[n])==null?void 0:h.value);return n==="more_days"&&t.availability.days.length>0&&(d=t.availability.days.length),n==="more_pages"&&(g!=null&&g.pagesPerSession)&&(d=g.pagesPerSession),d=Math.max(1,d||1),{goal_kind:n,metric:n,target_value:d,period:l}}),baselines:i,books:t.books,availability:t.availability,period:{id:t.period,customWeeks:t.customWeeks||null},planned_sessions:[]}},Ne=async()=>{var l,i;if(!w){C(!0),P(null);try{const s=(l=window.PoliteiaReadingPlan)==null?void 0:l.restUrl,n=(i=window.PoliteiaReadingPlan)==null?void 0:i.nonce;if(!s||!n)throw new Error("Plan creation failed");const d=ke(),h=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":n},body:JSON.stringify(d)}),r=await h.json();if(!h.ok||!(r!=null&&r.success))throw new Error((r==null?void 0:r.message)||"Plan creation failed");typeof o=="function"&&o(),window.alert("Tu plan de lectura ha comenzado")}catch(s){P((s==null?void 0:s.message)||"Plan creation failed")}finally{C(!1)}}},ve=()=>{var l,i;if(a===1)return e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"¿Qué aspectos de tu lectura te gustaría mejorar?"}),e.jsx("p",{className:"text-slate-500",children:"Puedes seleccionar varios objetivos"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(s=>e.jsxs("button",{onClick:()=>me(s.id),className:`p-4 text-left border-2 rounded-2xl transition-all ${t.goals.includes(s.id)?"border-indigo-600 bg-indigo-50 ring-4 ring-indigo-50":"border-slate-100 hover:border-indigo-200"}`,children:[e.jsx(s.icon,{className:`w-8 h-8 mb-3 ${t.goals.includes(s.id)?"text-indigo-600":"text-slate-400"}`}),e.jsx("h3",{className:"font-bold text-slate-800",children:s.title}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-relaxed",children:s.description})]},s.id))})]});if(a===2){const s=_[p],n=(l=j.find(r=>r.id===s))==null?void 0:l.title;if(s==="complete_books"&&x===0)return e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-indigo-600 font-bold text-xs uppercase tracking-widest",children:n}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mt-2",children:"¿Cuántos libros finalizaste este último año?"})]}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:["0","1","2","3","4+"].map(r=>{var N;return e.jsx("button",{onClick:()=>W("complete_books",r),className:`aspect-square rounded-2xl border-2 font-bold text-xl transition-all ${((N=t.baselines.complete_books)==null?void 0:N.value)===r?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"border-slate-100 bg-slate-50 text-slate-400 hover:border-slate-300"}`,children:r},r)})})]});if(s==="complete_books"&&x===1){const r=parseInt((i=t.baselines.complete_books)==null?void 0:i.value,10)||0,N=r===4?4:r;return e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"¿Qué extensión tenían esos libros?"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Selecciona el rango de páginas para cada uno"})]}),e.jsx("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-2",children:[...Array(N)].map((Te,$)=>e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Libro #",$+1]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map(M=>{var q,z;return e.jsx("button",{onClick:()=>fe($,M),className:`px-3 py-2 rounded-lg text-xs font-bold border-2 transition-all ${((z=(q=t.baselines.complete_books)==null?void 0:q.details)==null?void 0:z[$])===M?"bg-indigo-100 border-indigo-600 text-indigo-700":"bg-white border-slate-200 text-slate-500"}`,children:M},M)})})]},$))})]})}const h={more_pages:{q:"En una sesión típica, ¿cuántas páginas sueles leer?",opts:["<10","10–20","20–40","40+"]},more_days:{q:"¿Cuántos días a la semana lees actualmente?",opts:["0–1","2–3","4–5","6–7"]},consistency:{q:"¿Cuántas semanas leíste al menos una vez el último mes?",opts:["0","1","2","3","4"]}}[s];return e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-indigo-600 font-bold text-xs uppercase tracking-widest",children:n}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mt-2",children:h.q})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.opts.map(r=>{var N;return e.jsx("button",{onClick:()=>W(s,r),className:`p-4 rounded-2xl border-2 font-bold transition-all ${((N=t.baselines[s])==null?void 0:N.value)===r?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-100":"border-slate-100 bg-slate-50 text-slate-500 hover:border-slate-300"}`,children:r},r)})})]})}return a===3?e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"¿Qué libros leerás?"}),e.jsx("p",{className:"text-slate-500",children:"Agrega los títulos de tu biblioteca personal"})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-200 space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Título del libro",className:"w-full p-3 border rounded-xl focus:ring-2 ring-indigo-500 outline-none text-sm",value:u.title,onChange:s=>E({...u,title:s.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Páginas",className:"flex-1 p-3 border rounded-xl focus:ring-2 ring-indigo-500 outline-none text-sm",value:u.pages,onChange:s=>E({...u,pages:s.target.value})}),e.jsxs("button",{onClick:ue,className:"bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 flex items-center justify-center gap-2 text-sm font-bold shadow-lg shadow-indigo-100",children:[e.jsx(ae,{className:"w-4 h-4"})," Agregar"]})]})]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:t.books.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-50 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"text-indigo-500 w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:s.title}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:[s.pages," páginas"]})]})]}),e.jsx("button",{onClick:()=>ye(s.id),className:"text-rose-400 hover:bg-rose-50 p-2 rounded-full transition-colors",children:e.jsx(le,{className:"w-4 h-4"})})]},s.id))})]}):a===4?e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Tu disponibilidad"}),e.jsx("p",{className:"text-slate-500",children:"¿Cuándo tienes espacio para sumergirte en la lectura?"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Días disponibles:"}),e.jsx("div",{className:"flex justify-between gap-1",children:ie.map(s=>e.jsx("button",{onClick:()=>{const n=t.availability.days.includes(s.id)?t.availability.days.filter(d=>d!==s.id):[...t.availability.days,s.id];f({...t,availability:{...t.availability,days:n}})},className:`w-10 h-10 md:w-12 md:h-12 rounded-xl font-bold transition-all border-2 text-sm ${t.availability.days.includes(s.id)?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"border-slate-100 text-slate-400 hover:border-indigo-300 bg-slate-50"}`,children:s.label},s.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Ritmo de sesión:"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["short","medium","long"].map(s=>e.jsx("button",{onClick:()=>f({...t,availability:{...t.availability,sessionType:s}}),className:`py-4 rounded-xl border-2 text-xs font-bold transition-all ${t.availability.sessionType===s?"border-indigo-600 bg-indigo-50 text-indigo-700 shadow-sm":"border-slate-100 text-slate-500 bg-slate-50"}`,children:s==="short"?"Sprints":s==="medium"?"Equilibrado":"Inmersión"},s))})]})]}):a===5?e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Horizonte del plan"}),e.jsx("p",{className:"text-slate-500",children:"¿En cuánto tiempo quieres alcanzar esta meta?"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:L.map(s=>e.jsx("button",{onClick:()=>f({...t,period:s.id}),className:`p-5 rounded-2xl border-2 text-center transition-all ${t.period===s.id?"border-indigo-600 bg-indigo-50 text-indigo-700 ring-2 ring-indigo-100":"border-slate-100 text-slate-600 hover:border-indigo-200 bg-slate-50"}`,children:e.jsx("span",{className:"block text-sm font-black uppercase tracking-tight",children:s.label})},s.id))}),t.period==="custom"&&e.jsx("div",{className:"mt-4 animate-in slide-in-from-top-4",children:e.jsx("input",{type:"number",className:"w-full p-4 border rounded-2xl focus:ring-2 ring-indigo-500 outline-none text-center font-bold",placeholder:"Introduce número de semanas",value:t.customWeeks,onChange:s=>f({...t,customWeeks:s.target.value})})})]}):null},we=()=>{var l;if(a===1)return t.goals.length>0;if(a===2){const i=_[p],s=t.baselines[i];if(!(s!=null&&s.value))return!1;if(i==="complete_books"&&x===1){const n=parseInt(s.value,10)||0,d=n===4?4:n;return((l=s.details)==null?void 0:l.length)>=d&&s.details.every(h=>h)}return!0}return a===3?t.books.length>0:a===4?t.availability.days.length>0:a===5?t.period&&(t.period!=="custom"||t.customWeeks):!0};return ge?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 font-sans",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white",children:[e.jsxs("div",{className:"bg-indigo-600 p-10 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:e.jsx(Y,{className:"w-48 h-48"})}),e.jsx("h1",{className:"text-4xl font-black tracking-tight",children:"Tu Hoja de Ruta"}),e.jsx("p",{className:"text-indigo-100 mt-2 text-lg font-medium",children:"Un plan diseñado a tu medida y ritmo actual."})]}),e.jsxs("div",{className:"p-10 space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-6 bg-indigo-50 rounded-3xl text-center",children:[e.jsx("span",{className:"text-[10px] text-indigo-400 uppercase font-black tracking-widest",children:"Carga Diaria"}),e.jsx("p",{className:"text-3xl font-black text-slate-800 mt-2",children:g==null?void 0:g.pagesPerSession}),e.jsx("p",{className:"text-[10px] font-bold text-indigo-300 uppercase",children:"págs / sesión"})]}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl text-center",children:[e.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest",children:"Compromiso"}),e.jsx("p",{className:"text-3xl font-black text-slate-800 mt-2",children:t.availability.days.length}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"días / semana"})]}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl text-center",children:[e.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest",children:"Objetivo"}),e.jsx("p",{className:"text-3xl font-black text-slate-800 mt-2",children:g==null?void 0:g.totalPages}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"págs totales"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-black text-slate-800 flex items-center gap-2 uppercase text-xs tracking-widest",children:[e.jsx(R,{className:"w-4 h-4 text-indigo-500"})," Cronograma Final"]}),e.jsxs("div",{className:"space-y-3 bg-slate-50 p-6 rounded-3xl",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Duración"}),e.jsxs("span",{className:"font-black text-slate-800",children:[g==null?void 0:g.weeks," semanas"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-slate-200",children:[e.jsx("span",{children:"Sesiones totales"}),e.jsx("span",{className:"font-black text-slate-800",children:g==null?void 0:g.totalSessions})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-black text-slate-800 flex items-center gap-2 uppercase text-xs tracking-widest",children:[e.jsx(ee,{className:"w-4 h-4 text-indigo-500"})," Tu punto de partida"]}),e.jsx("div",{className:"space-y-2",children:_.map(l=>{var i;return e.jsxs("div",{className:"text-[10px] bg-slate-100 px-4 py-2 rounded-xl flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-500 font-black uppercase tracking-tighter",children:j.find(s=>s.id===l).title}),e.jsx("span",{className:"text-indigo-600 font-black",children:((i=t.baselines[l])==null?void 0:i.value)||"-"})]},l)})})]})]}),S?e.jsx("div",{className:"text-sm text-rose-600 font-semibold",children:S}):null,e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-6",children:[e.jsx("button",{onClick:()=>D(!1),className:"flex-1 py-5 rounded-2xl border-2 border-slate-200 text-slate-500 font-black uppercase text-xs tracking-widest hover:bg-slate-50 transition-colors",children:"Ajustar Datos"}),e.jsx("button",{onClick:Ne,disabled:w,className:"flex-1 py-5 rounded-2xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest hover:bg-indigo-700 shadow-xl shadow-indigo-100 disabled:opacity-60 disabled:cursor-not-allowed",children:w?"Creando plan…":"Iniciar Mi Plan"})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 font-sans text-slate-900",children:e.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-100 flex flex-col",children:[e.jsx("div",{className:"bg-slate-100 h-1.5 flex",children:[1,2,3,4,5].map(l=>e.jsx("div",{className:`flex-1 transition-all duration-700 ${l<=a?"bg-indigo-500":"bg-slate-200"}`},l))}),e.jsxs("div",{className:"p-10 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-[10px] font-black uppercase tracking-[0.2em]",children:["Sección ",a," de 5"]}),(a>1||a===2&&(p>0||x>0))&&e.jsxs("button",{onClick:xe,className:"text-slate-400 hover:text-indigo-600 flex items-center gap-1 text-[10px] font-black uppercase tracking-widest transition-colors",children:[e.jsx(Z,{className:"w-3 h-3"})," Atrás"]})]}),e.jsx("div",{className:"flex-1",children:ve()}),e.jsx("div",{className:"mt-12 flex justify-end",children:e.jsxs("button",{disabled:!we(),onClick:be,className:"w-full md:w-auto bg-indigo-600 text-white px-12 py-5 rounded-2xl font-black flex items-center justify-center gap-3 hover:bg-indigo-700 transition-all disabled:opacity-20 disabled:grayscale shadow-2xl shadow-indigo-100 uppercase text-[10px] tracking-[0.2em]",children:[a===5?"Crear Mi Plan":"Siguiente",e.jsx(X,{className:"w-4 h-4"})]})})]})]})})}console.log("[ReadingPlan] entry file loaded");let v=null;const re=()=>{document.body.style.overflow="hidden"},ce=()=>{document.body.style.overflow=""},pe=()=>{const o=document.getElementById("politeia-reading-plan-root");v&&(v.unmount(),v=null),o&&o.classList.remove("is-open"),ce()},he=()=>{var c;console.log("[ReadingPlan] opening modal");const o=document.getElementById("politeia-reading-plan-root");if(!o){(c=window.PoliteiaReadingPlan)!=null&&c.debug&&console.warn("[ReadingPlan] Modal root not found.");return}const a=window.PoliteiaReadingPlan||{};if(!a.restUrl||!a.nonce||!a.userId){a.debug&&console.warn("[ReadingPlan] Missing REST config.");return}o.classList.add("politeia-reading-plan-modal","is-open"),re(),v||(v=G.createRoot(o)),console.log("[ReadingPlan] mounting React app"),v.render(e.jsx("div",{className:"politeia-reading-plan__panel",children:e.jsx(de,{restUrl:a.restUrl,nonce:a.nonce,userId:a.userId,onClose:pe})}))},T=()=>{const o=document.getElementById("politeia-open-reading-plan"),a=document.getElementById("politeia-reading-plan-root");if(!o||!a){console.warn("[ReadingPlan] required DOM elements not found");return}o.addEventListener("click",c=>{c.preventDefault(),console.log("[ReadingPlan] open button clicked"),he()})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T()})(wp.element,wp.element,wp.element);
